(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/ARROWOPEN.4d66597d.svg"},13:function(e,t,a){e.exports=a.p+"static/media/ARROWCLOSE.9f3a719a.svg"},22:function(e,t,a){e.exports=a.p+"static/media/LOGO.8b6d4945.svg"},23:function(e,t,a){e.exports=a.p+"static/media/deletePlanet.4b823e92.svg"},24:function(e,t,a){e.exports=a(59)},29:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(21),s=a.n(i),r=(a(29),a(4)),c=a(6),o=a(7),d=a(9),m=a(8),u=a(10),h=a(22),p=a.n(h),v=function(){return l.a.createElement("img",{className:"logo",src:p.a,alt:"logo"})},f=a(12),E=a.n(f),g=a(13),b=a.n(g),P=a(14),D=function(e){var t=e.data;return l.a.createElement("tbody",null,l.a.createElement("tr",{className:"desktop"},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.rotation_period),l.a.createElement("td",null,t.orbital_period),l.a.createElement("td",null,t.diameter),l.a.createElement("td",null,t.climate),l.a.createElement("td",null,t.surface_water),l.a.createElement("td",null,t.population)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Planet Name"),l.a.createElement("td",{align:"left"},t.name)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Rotation period"),l.a.createElement("td",{align:"left"},t.rotation_period)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Orbital period"),l.a.createElement("td",{align:"left"},t.orbital_period)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Diameter"),l.a.createElement("td",{align:"left"},t.diameter)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Climate"),l.a.createElement("td",{align:"left"},t.climate)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Surface water"),l.a.createElement("td",{align:"left"},t.surface_water)),l.a.createElement("tr",{className:"mobile"},l.a.createElement("td",{align:"left"},"Population"),l.a.createElement("td",{align:"left"},t.population)))},M=function(e){var t,a,n=e.planetDetails,i=e.loadingPlanets,s=e.active,r=e.addedMovieDetails;return n.length>0&&(t=n.map(function(e,t){return l.a.createElement(D,{key:t,data:e})})),void 0!==r[0]&&(a=r[0].planets.map(function(e,t){return l.a.createElement(D,{key:t,data:e})})),l.a.createElement("table",{className:"planetTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("span",null,"Planet Name")," ",l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Rotation period"),l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Orbital period"),l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Diameter"),l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Climate"),l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Surface water"),l.a.createElement("span",null)),l.a.createElement("th",null,l.a.createElement("span",null,"Population"),l.a.createElement("span",null)))),i&&s&&void 0===r[0]&&l.a.createElement("tbody",null,l.a.createElement("tr",{className:"planetLoader"},l.a.createElement("td",{colSpan:7},l.a.createElement(P.ClipLoader,{sizeUnit:"px",size:50,color:"#1BA1BE",loading:i})))),!i&&t,void 0!==r[0]&&a)},N=function(e){var t=e.planetDetails,a=e.loadingPlanets,n=e.active,i=e.addedMovieDetails;return l.a.createElement(M,{addedMovieDetails:i,planetDetails:t,loadingPlanets:a,active:n})},y=a(5),O=(a(20),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={active:!1,loadingPlanets:!0,movieDetails:null,planetDetails:[],addedMovieDetails:[]},a.handleCollapse=function(){a.state.active?a.setState(function(e){return{active:!e.active,planetDetails:[],loadingPlanets:!0,addedPlanetsDetails:[]}}):(a.setState(function(e){return{active:!e.active}}),void 0!==a.state.movieDetails&&a.handleFetchPlanet(a.state.movieDetails.planets))},a.handleFetchPlanet=function(e){e.forEach(function(e){fetch(e).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState(function(t){return{planetDetails:[].concat(Object(r.a)(t.planetDetails),[e])}})}).catch(function(e){return console.log(e)})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({movieDetails:this.props.movie,addedMovieDetails:[].concat(Object(r.a)(this.state.addedMovieDetails),[this.props.addedMovieDetails])})}},{key:"componentWillUpdate",value:function(){this.state.active&&this.state.movieDetails&&this.state.movieDetails.planets.length===this.state.planetDetails.length+1&&this.setState({loadingPlanets:!1})}},{key:"render",value:function(){return l.a.createElement("li",{style:this.state.active?{marginBottom:"16px"}:null,className:"movie"},l.a.createElement(y.Accordion,{style:{backgroundColor:"#fff",minHeight:"48px",padding:"0",width:"100%",userSelect:"none"}},l.a.createElement(y.AccordionItem,null,l.a.createElement(y.AccordionItemTitle,{style:{minHeight:"48px",padding:"0"}},l.a.createElement("div",{className:"headerContainer",onClick:this.handleCollapse},l.a.createElement("p",{className:"movieTitle"},this.props.movie&&this.props.movie.title," ",void 0!==this.props.addedMovieDetails&&this.props.addedMovieDetails.movieTitle),l.a.createElement("img",{className:"arrow",src:this.state.active?b.a:E.a,alt:"open arrow"}))),l.a.createElement(y.AccordionItemBody,null,l.a.createElement(N,{planetDetails:this.state.planetDetails,addedMovieDetails:this.state.addedMovieDetails,loadingPlanets:this.state.loadingPlanets,active:this.state.active})))))}}]),t}(l.a.Component)),S=function(e){var t,a=e.movies,n=e.loadingMovies,i=e.addedMovies,s={borderBottom:"2px dashed #fff",marginBottom:"32px",paddingBottom:"16px"};return null!==a&&(t=a.map(function(e){return l.a.createElement(O,{key:e.episode_id,movie:e})})),i.length>0&&(s=null),l.a.createElement("ul",{style:s,className:"movieBoard"},n?l.a.createElement("div",{className:"movieLoader"},l.a.createElement(P.ClipLoader,{sizeUnit:"px",size:50,color:"#1BA1BE",lading:n})):t)},T=function(e){var t=e.planets,a=e.handlePlanetSelection,n=t.map(function(e){return l.a.createElement("li",{onClick:function(){return a(e.name)},key:e.name},e.name)});return l.a.createElement("ul",{className:"planetList"},n)},j=a(23),w=a.n(j),L=function(e){var t=e.selectedPlanets,a=e.handleDeletePlanet,n=t.map(function(e){return l.a.createElement("li",{key:e},e," ",l.a.createElement("button",{onClick:function(t){return a(t,e)}},l.a.createElement("img",{src:w.a,alt:"delete planet button"})))});return l.a.createElement("ul",{className:"selectedPlanets"},n)},A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1}},a.messages={capitalLetter_incorrect:"Movie title must start with a capital letter",movieTitleLength_incorrect:"Movie title must be at least three letters long"},a.handleAddMovieTitle=function(e){a.setState({movieTitle:e.target.value})},a.formValidation=function(){var e,t=!1,n=!1,l=!1;return a.state.movieTitle&&(e=a.state.movieTitle)[0]!==e[0].toLowerCase()&&(t=!0),a.state.movieTitle.length>2&&(n=!0),t&&n&&(l=!0),{capitalLetter:t,movieTitleLength:n,correct:l}},a.handleSubmit=function(e){e.preventDefault();var t=a.formValidation();t.correct?(a.props.handleAddMovie(a.state.selectedPlanetsWithDetails,a.state.movieTitle),a.setState({movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1}})):a.setState({errors:{capitalLetter:!t.capitalLetter,movieTitleLength:!t.movieTitleLength}})},a.handleSearch=function(e){0!==e.target.value.length?fetch("https://swapi.co/api/planets?search=".concat(e.target.value)).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState({planets:Object(r.a)(e.results)})}).catch(function(e){return console.log(e)}):a.setState({planets:[]}),a.setState({planetName:e.target.value})},a.handlePlanetSelection=function(e){-1===a.state.selectedPlanets.indexOf(e)&&a.setState(function(t){return{selectedPlanets:[].concat(Object(r.a)(t.selectedPlanets),[e])}})},a.handleDeletePlanet=function(e,t){e.preventDefault();var n=a.state.selectedPlanets.filter(function(e){return e!==t}),l=a.state.selectedPlanetsWithDetails.filter(function(e){return e[0].name!==t});a.setState({selectedPlanets:n,selectedPlanetsWithDetails:l})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.active!==this.props.active&&this.setState({movieTitle:"",planetName:"",planets:[],selectedPlanets:[],selectedPlanetsWithDetails:[],errors:{capitalLetter:!1,movieTitleLength:!1}}),t.selectedPlanets!==this.state.selectedPlanets&&void 0!==this.state.selectedPlanets[this.state.selectedPlanets.length-1]&&this.state.selectedPlanets.length>t.selectedPlanets.length&&fetch("https://swapi.co/api/planets?search=".concat(this.state.selectedPlanets[this.state.selectedPlanets.length-1])).then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(e){a.setState(function(t){return{selectedPlanetsWithDetails:[].concat(Object(r.a)(t.selectedPlanetsWithDetails),[e.results])}})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e;return(this.state.errors.capitalLetter||this.state.errors.movieTitleLength)&&(e={color:"red"}),l.a.createElement("form",{autoComplete:"off",className:"addForm",onSubmit:this.handleSubmit},l.a.createElement("label",{style:e,htmlFor:"movieTitle"},"Movie title"),l.a.createElement("input",{type:"text",id:"movieTitle",name:"movieTitle",placeholder:"Please enter the title of the movie",value:this.state.movieTitle,onChange:this.handleAddMovieTitle}),(this.state.errors.capitalLetter||this.state.errors.movieTitleLength)&&l.a.createElement("span",null,this.state.errors.capitalLetter&&"".concat(this.messages.capitalLetter_incorrect,". ")," ",this.state.errors.movieTitleLength&&"".concat(this.messages.movieTitleLength_incorrect,".")),this.state.selectedPlanets.length>0&&l.a.createElement(L,{handleDeletePlanet:this.handleDeletePlanet,selectedPlanets:this.state.selectedPlanets}),l.a.createElement("label",{htmlFor:"addPlanet"},"Add Planet"),l.a.createElement("input",{type:"text",id:"addPlanet",name:"addPlanet",placeholder:"Search for the planet in database",value:this.state.planetName,onChange:this.handleSearch}),this.state.planets.length>0&&l.a.createElement(T,{handlePlanetSelection:this.handlePlanetSelection,planets:this.state.planets}),l.a.createElement("button",{className:"addBtn"},"Add movie"))}}]),t}(l.a.Component),k=function(e){var t=e.active,a=e.handleAddMovie;return l.a.createElement("div",{className:"addBoard"},l.a.createElement(A,{active:t,handleAddMovie:a}))},C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={active:!1},a.handleCollapse=function(){a.setState(function(e){return{active:!e.active}})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(y.Accordion,{style:{backgroundColor:"#fff",minHeight:"48px",padding:"0",width:"100%",userSelect:"none"},className:"addMovie"},l.a.createElement(y.AccordionItem,null,l.a.createElement(y.AccordionItemTitle,{style:{minHeight:"48px",padding:"0",width:"100%"}},l.a.createElement("div",{className:"headerContainer",onClick:this.handleCollapse},l.a.createElement("p",{className:"add"},"Add Movie"),l.a.createElement("img",{className:"arrow",src:this.state.active?b.a:E.a,alt:"open arrow"}))),l.a.createElement(y.AccordionItemBody,{className:this.state.active?"boardContainer":""},l.a.createElement(k,{active:this.state.active,handleAddMovie:this.props.handleAddMovie}))))}}]),t}(l.a.Component),x=function(e){var t=e.addedMovies;if(t.length>0){var a=t.map(function(e){return l.a.createElement(O,{key:e.movieTitle,addedMovieDetails:e})});return l.a.createElement("ul",{className:"addedMovies"},a)}return null},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={movies:null,loadingMovies:!0,addedMovies:[]},a.handleAddMovie=function(e,t){var n=e,l={};l.movieTitle=t,l.planets=n.map(function(e){return e[0]}),a.setState({addedMovies:[].concat(Object(r.a)(a.state.addedMovies),[l])})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://swapi.co/api/films/").then(function(e){if(e.ok)return e.json();throw Error(e.status)}).then(function(t){e.setState({movies:Object(r.a)(t.results),loadingMovies:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement(v,null),l.a.createElement(S,{movies:this.state.movies,loadingMovies:this.state.loadingMovies,addedMovies:this.state.addedMovies}),l.a.createElement(x,{addedMovies:this.state.addedMovies}),l.a.createElement(C,{handleAddMovie:this.handleAddMovie}))}}]),t}(n.Component);s.a.render(l.a.createElement(B,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6c09a29d.chunk.js.map